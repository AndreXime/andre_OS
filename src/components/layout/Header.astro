---
import { PanelLeft, Search, Github } from "lucide-preact";

interface Props {
    searchParam: string;
    filterParam: string;
}
const { searchParam, filterParam } = Astro.props;
---

<header
    class="fixed top-0 w-full z-50 bg-zinc-950/80 backdrop-blur-md border-b border-zinc-800 h-14 flex items-center px-4 md:px-6 justify-between transition-all duration-300"
>
    <div class="flex items-center gap-4">
        <button
            id="toggle-sidebar"
            aria-label="Abrir e fechar sidebar"
            class="p-1.5 rounded-md text-zinc-500 hover:text-white hover:bg-zinc-800 transition-colors"
        >
            <PanelLeft size={18} />
        </button>
        <a href="/" class="flex items-center gap-3 cursor-pointer">
            <div
                class="w-3 h-3 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_10px_rgba(16,185,129,0.5)]"
            >
            </div>
            <span class="font-mono font-bold text-zinc-100 tracking-tight"
                >andre_OS</span
            >
        </a>
    </div>

    <form
        action="/"
        method="GET"
        class="hidden md:flex items-center flex-1 max-w-md mx-6 group relative"
    >
        <Search
            size={14}
            class="absolute left-3 top-2 text-zinc-500 group-focus-within:text-emerald-500 transition-colors"
        />

        <input
            type="text"
            name="q"
            value={searchParam}
            placeholder="Pesquisar notas, ferramentas..."
            class="w-full bg-zinc-900 border border-zinc-800 text-sm py-1.5 pl-9 pr-12 rounded-md text-zinc-300 placeholder-zinc-600 focus:outline-none focus:border-emerald-500/50 focus:ring-1 focus:ring-emerald-500/20 transition-all font-mono"
        />

        <input type="hidden" name="filter" value={filterParam} />

        <button type="submit" class="absolute right-2 hidden">Ir</button>
    </form>

    <div class="flex items-center gap-4 text-xs font-mono text-zinc-300">
        <div
            class="w-8 h-8 bg-zinc-900 border border-zinc-800 rounded-full flex items-center justify-center"
        >
            <Github size={14} class="hover:text-white cursor-pointer" />
        </div>
    </div>
</header>
